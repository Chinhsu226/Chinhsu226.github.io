<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>å°‘æ—æ™‹å‡æ¨¡æ‹Ÿå™¨ - çœŸÂ·ä½›ç³»å‡èŒè®°</title>
    <style>
        /* â€”â€” åŸºç¡€æ ·å¼ â€”â€” */
        *{margin:0;padding:0;box-sizing:border-box;}
        body{
            font-family:"KaiTi",serif;
            background:linear-gradient(135deg,#d4af37 0%,#8b7355 100%);
            min-height:100vh;
            padding:20px;
            display:flex;
            align-items:flex-start;
            justify-content:center;
        }
        .container{
            width:100%;
            max-width:800px;
            background:rgba(255,255,255,.9);
            border-radius:20px;
            padding:30px;
            box-shadow:0 10px 30px rgba(0,0,0,.3);
            position:relative;
            overflow:hidden;
        }
        .container::before{
            content:"ğŸ™";
            position:absolute;
            top:-50px;
            right:-50px;
            font-size:200px;
            opacity:.1;
            transform:rotate(15deg);
        }
        h1{
            text-align:center;
            color:#8b4513;
            margin-bottom:30px;
            font-size:2.5em;
            text-shadow:2px 2px 4px rgba(0,0,0,.3);
        }
        p.subtitle{
            text-align:center;
            color:#666;
            margin-bottom:20px;
        }

        /* â€”â€” çŠ¶æ€æ  â€”â€” */
        .status-bar{
            display:flex;
            justify-content:space-between;
            flex-wrap:wrap;
            gap:10px;
            margin-bottom:20px;
            padding:15px;
            background:#f5f5dc;
            border-radius:10px;
            box-shadow:0 2px 5px rgba(0,0,0,.1);
        }
        .stat{
            text-align:center;
            flex:1 1 120px;
        }
        .stat-label{font-size:.9em;color:#666;}
        .stat-value{font-size:1.5em;font-weight:bold;color:#8b4513;}

        /* â€”â€” è…è´¥è¿›åº¦æ¡ â€”â€” */
        .corruption-meter{
            width:100%;
            height:12px;
            background:#e0e0e0;
            border-radius:6px;
            overflow:hidden;
            margin-top:4px;
        }
        .corruption-fill{
            height:100%;
            background:linear-gradient(90deg,#ff6b6b,#ff4757);
            transition:width .5s;
            width:0%;
        }

        /* â€”â€” äº‹ä»¶å¡ç‰‡ â€”â€” */
        .event-card{
            background:#fff;
            border:2px solid #d4af37;
            border-radius:15px;
            padding:20px;
            margin-bottom:20px;
            animation:slideIn .5s ease-out;
        }
        @keyframes slideIn{
            from{opacity:0;transform:translateX(-50px);}
            to{opacity:1;transform:translateX(0);}
        }
        .event-title{color:#8b4513;font-size:1.3em;font-weight:bold;margin-bottom:10px;}
        .event-description{color:#333;margin-bottom:15px;line-height:1.6;}

        /* â€”â€” é€‰æ‹©æŒ‰é’® â€”â€” */
        .choices{display:flex;gap:10px;flex-wrap:wrap;}
        .choice-btn{
            flex:1 1 150px;
            padding:12px 20px;
            border:none;
            border-radius:25px;
            font-size:1em;
            cursor:pointer;
            transition:all .3s;
            font-family:inherit;
        }
        .choice-btn:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,0,0,.2);}
        .choice-btn:disabled{opacity:.5;cursor:not-allowed;transform:none;}
        .positive{background:#90ee90;color:#006400;}
        .negative{background:#ffcccb;color:#8b0000;}
        .neutral{background:#f0e68c;color:#8b4513;}

        /* â€”â€” ç»“æœæç¤º â€”â€” */
        .result{
            margin-top:15px;
            padding:15px;
            border-radius:10px;
            font-weight:bold;
            display:none;
            animation:fadeIn .3s;
        }
        @keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
        .result.success{background:#d4edda;color:#155724;border:1px solid #c3e6cb;}
        .result.failure{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb;}
        .result.sarcastic{background:#fff3cd;color:#856404;border:1px solid #ffeaa7;font-style:italic;}

        /* â€”â€” æˆå°±å¼¹çª— â€”â€” */
        .achievement{
            position:fixed;
            top:50%;left:50%;
            transform:translate(-50%,-50%);
            background:#d4af37;
            color:#fff;
            padding:30px 40px;
            border-radius:20px;
            text-align:center;
            box-shadow:0 10px 50px rgba(0,0,0,.5);
            z-index:1000;
            display:none;
            animation:popIn .5s;
        }
        @keyframes popIn{
            0%{transform:translate(-50%,-50%) scale(0);opacity:0;}
            100%{transform:translate(-50%,-50%) scale(1);opacity:1;}
        }
        .close-achievement{
            position:absolute;
            top:10px;right:15px;
            background:none;border:none;
            font-size:2em;cursor:pointer;
            color:#fff;
        }

        /* â€”â€” é‡æ–°å¼€å§‹æŒ‰é’® â€”â€” */
        .restart-btn{
            display:block;
            margin:20px auto;
            padding:15px 30px;
            background:#8b4513;
            color:#fff;
            border:none;
            border-radius:25px;
            font-size:1.2em;
            cursor:pointer;
            transition:all .3s;
        }
        .restart-btn:hover{background:#a0522d;transform:scale(1.05);}

        /* â€”â€” å“åº”å¼ â€”â€” */
        @media(max-width:600px){
            .container{padding:15px;}
            h1{font-size:2em;}
            .choices{flex-direction:column;}
            .choice-btn{width:100%;}
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§˜â€â™‚ï¸ å°‘æ—æ™‹å‡æ¨¡æ‹Ÿå™¨ ğŸ§˜â€â™‚ï¸</h1>
        <p class="subtitle">â€œé˜¿å¼¥é™€ä½›ï¼Œæ–½ä¸»ä¸ä½›æœ‰ç¼˜ï¼Œæ­¤ç¼˜ä»·å€¼8888å…ƒâ€</p>

        <!-- çŠ¶æ€æ  -->
        <div class="status-bar">
            <div class="stat">
                <div class="stat-label">èŒä½</div>
                <div class="stat-value" id="position">æ‰«åœ°åƒ§</div>
            </div>
            <div class="stat">
                <div class="stat-label">åŠŸå¾·</div>
                <div class="stat-value" id="merit">0</div>
            </div>
            <div class="stat">
                <div class="stat-label">é’±åŒ…</div>
                <div class="stat-value" id="money">0å…ƒ</div>
            </div>
            <div class="stat" style="min-width:120px;">
                <div class="stat-label">è…è´¥å€¼</div>
                <div class="corruption-meter">
                    <div class="corruption-fill" id="corruptionFill"></div>
                </div>
            </div>
        </div>

        <!-- æ¸¸æˆå†…å®¹åŒº -->
        <div id="gameArea"></div>

        <!-- é‡æ–°å¼€å§‹ -->
        <button class="restart-btn" id="restartBtn" style="display:none;" onclick="restartGame()">é‡æ–°å‡ºå®¶</button>
    </div>

    <!-- æˆå°±å¼¹çª— -->
    <div class="achievement" id="achievement">
        <button class="close-achievement" onclick="closeAchievement()">Ã—</button>
        <h2 id="achievementTitle"></h2>
        <p id="achievementText"></p>
    </div>

    <script>
        /* ========== æ¸¸æˆçŠ¶æ€ ========== */
        const gameState = {
            position: "æ‰«åœ°åƒ§",
            merit: 0,
            money: 0,
            corruption: 0,
            currentEventIndex: 0,
            achievements: new Set()
        };

        /* ========== äº‹ä»¶æ•°æ® ========== */
        const events = [
            {
                title:"æ‰«åœ°æ—¶çš„å¥‡é‡",
                description:"ä½ åœ¨æ‰«åœ°æ—¶å‘ç°ä¸€æšé“œé’±ï¼Œè¿™æ—¶æ–¹ä¸ˆè·¯è¿‡ï¼Œå’Œè”¼åœ°çœ‹ç€ä½ ã€‚",
                choices:[
                    {text:"äº¤ç»™æ–¹ä¸ˆï¼Œå¼˜æ‰¬æ‹¾é‡‘ä¸æ˜§ç¾å¾·",effect:{merit:10,money:0,corruption:-5},result:"æ–¹ä¸ˆå¤¸ä½ å…­æ ¹æ¸…å‡€ï¼Œå¥–åŠ±ä½ å¤šæ‰«ä¸€ä¸ªæœˆçš„åœ°ã€‚åŠŸå¾·+10"},
                    {text:"å·å·å¡è¿›è‡ªå·±è…°åŒ…ï¼Œä½›ç¥–ä¼šåŸè°…çš„",effect:{merit:-5,money:1,corruption:10},result:"ä½ æ„Ÿè§‰é’±åŒ…é¼“äº†ä¸€ç‚¹ï¼Œä½†å¿ƒé‡Œæœ‰ç‚¹æ…Œã€‚è…è´¥å€¼+10"},
                    {text:"æè®®å»ºç«‹åŠŸå¾·ç®±ï¼Œç»Ÿä¸€æ”¶é›†é¦™ç«é’±",effect:{merit:20,money:50,corruption:30},result:"æ–¹ä¸ˆæ¬£æ…°åœ°ç‚¹å¤´ï¼Œä»æ­¤åŠŸå¾·ç®±çš„é’±éƒ½ç»ä½ æ‰‹ã€‚èŒä½æå‡ï¼"}
                ]
            },
            {
                title:"é¦™ç«é’±é£æ³¢",
                description:"ä¸€ä½åœŸè±ªæ–½ä¸»æäº†100ä¸‡ï¼Œè¦æ±‚åœ¨å¤§é›„å®æ®¿ç«‹ä¸ªäºŒç»´ç åŠŸå¾·ç¢‘ã€‚",
                choices:[
                    {text:"ä¸¥è¯æ‹’ç»ï¼Œä½›é—¨æ¸…å‡€åœ°å²‚å®¹é“œè‡­",effect:{merit:20,money:0,corruption:-10},result:"åœŸè±ªè½¬èº«å»äº†éš”å£å¯ºåº™ï¼Œæ–¹ä¸ˆè„¸è‰²ä¸å¤ªå¥½çœ‹ã€‚åŠŸå¾·+20"},
                    {text:"ç«‹å³ç­”åº”ï¼Œå¹¶æè®®åŠ ä¸ªVIPåŒ…å¢",effect:{merit:-10,money:50000,corruption:50},result:"åœŸè±ªå¾ˆæ»¡æ„ï¼Œä½ çš„ç‘å£«é“¶è¡Œè´¦æˆ·å¤šäº†ä¸€ç¬”é’±ã€‚è…è´¥å€¼çˆ†è¡¨ï¼"},
                    {text:"å»ºè®®å¼€è®¾â€œå°‘æ—æ­¦æ ¡â€ï¼Œæ–‡æ­¦åŒä¿®",effect:{merit:5,money:10000,corruption:15},result:"æ–¹ä¸ˆè§‰å¾—ä½ å¾ˆä¸Šé“ï¼Œè®©ä½ è´Ÿè´£æ‹›ç”ŸåŠã€‚é’±åŒ…+10000"}
                ]
            },
            {
                title:"å›½é™…äº¤æµæœºä¼š",
                description:"ç¾å›½æŸè´¢å›¢é‚€è¯·å°‘æ—å¯ºè¿›è¡Œâ€œå•†ä¸šç¦…ä¿®â€äº¤æµï¼ŒåŒ…æœºå¤´ç­‰èˆ±ã€‚",
                choices:[
                    {text:"åšå®ˆå¯ºåº™ï¼Œè®¤ä¸ºä¿®è¡Œä¸åº”å‡ºå›½",effect:{merit:15,money:0,corruption:0},result:"ä½ é”™è¿‡äº†è§ä¸–é¢çš„æœºä¼šï¼Œä½†ä¿ä½äº†åˆå¿ƒã€‚åŠŸå¾·+15"},
                    {text:"æ¬£ç„¶å‰å¾€ï¼Œé¡ºä¾¿è€ƒå¯Ÿæµ·å¤–åˆ†å¯ºé€‰å€",effect:{merit:0,money:20000,corruption:25},result:"ä½ åœ¨ç¡…è°·ä¹°äº†å—åœ°ï¼Œå‡†å¤‡å»ºâ€œç¦…æ„å…±äº«åŠå…¬å®¤â€ã€‚é’±åŒ…+20000"},
                    {text:"å¸¦ä¸Šå…¨å¯ºç›´æ’­ï¼Œå¼€å¯â€œäº‘ä¿®è¡Œâ€æ¨¡å¼",effect:{merit:-5,money:100000,corruption:40},result:"ç›´æ’­é—´ç¤¼ç‰©åˆ·çˆ†ï¼Œæ–¹ä¸ˆç»™ä½ å‡äº†é¦–åº§ã€‚è…è´¥å€¼+40"}
                ]
            },
            {
                title:"æ–¹ä¸ˆçš„è€ƒéªŒ",
                description:"æ–¹ä¸ˆé—®ï¼šâ€œä½•ä¸ºä½›æ³•ï¼Ÿâ€ï¼ŒåŒæ—¶æš—ç¤ºå›ç­”å¾—å¥½å¯ä»¥å‡ç›‘é™¢ã€‚",
                choices:[
                    {text:"ä¸€åˆ‡æœ‰ä¸ºæ³•ï¼Œå¦‚æ¢¦å¹»æ³¡å½±",effect:{merit:30,money:0,corruption:0},result:"æ–¹ä¸ˆç‚¹å¤´ï¼Œä½†è¯´ä½ è¿˜ä¸å¤Ÿå…¥ä¸–ï¼Œç»§ç»­æ‰«åœ°ã€‚åŠŸå¾·+30"},
                    {text:"ä½›æ³•å°±æ˜¯æµé‡å¯†ç ï¼Œé˜¿å¼¥é™€ä½›ä¹ˆä¹ˆå“’",effect:{merit:-20,money:5000,corruption:35},result:"æ–¹ä¸ˆå¤§ç¬‘ä¸‰å£°ï¼Œæ‹ç€ä½ çš„è‚©è†€è¯´â€œå­ºå­å¯æ•™â€ã€‚èŒä½ç›´å‡ç›‘é™¢ï¼"},
                    {text:"ä½›æ³•å°±æ˜¯å•†ä¸šæ¨¡å¼ï¼Œæ–½ä¸»å°±æ˜¯æˆ‘ä»¬çš„è¡£é£Ÿçˆ¶æ¯",effect:{merit:-30,money:20000,corruption:60},result:"æ–¹ä¸ˆæ¿€åŠ¨å¾—æŠŠä½ å‡ä¸ºCEOï¼Œè´Ÿè´£å…¨å¯ºIPOã€‚è…è´¥å€¼+60"}
                ]
            },
            {
                title:"ä¸Šå¸‚å‰å¤œ",
                description:"å°‘æ—å¯ºå‡†å¤‡ä¸Šå¸‚ï¼Œéœ€è¦ä½ å†³å®šå‘è¡Œä»·ã€‚æ–¹ä¸ˆæš—ç¤ºâ€œå‡ºå®¶äººä¸æ‰“è¯³è¯­ï¼Œä½†å¯ä»¥å››èˆäº”å…¥â€ã€‚",
                choices:[
                    {text:"åšæŒä½›æ³•æ— ä»·ï¼Œæ‹’ç»ä¸Šå¸‚",effect:{merit:50,money:0,corruption:-20},result:"ä½ è¢«è‘£äº‹ä¼šæŠ•ç¥¨å‡ºå±€ï¼Œå›åˆ°æ‰«åœ°å²—ä½ã€‚ä½†åŠŸå¾·åœ†æ»¡ï¼"},
                    {text:"å®šä»·9999å…ƒ/è‚¡ï¼Œå›¾ä¸ªå‰åˆ©",effect:{merit:-10,money:1000000,corruption:80},result:"ä¸Šå¸‚é¦–æ—¥æ¶¨åœï¼Œä½ æˆäº†äº¿ä¸‡å¯Œè±ªã€‚æ­å–œè·å¾—â€œçœŸÂ·ä½›ç³»â€æˆå°±ï¼"},
                    {text:"è¿å¤œå‘å¸ƒâ€œåŒºå—é“¾+ç¦…ä¿®â€ç™½çš®ä¹¦ï¼Œå®šä»·99999å…ƒ/è‚¡",effect:{merit:-100,money:10000000,corruption:100},result:"çº³æ–¯è¾¾å…‹æ•²é’ŸæˆåŠŸï¼ä½ æˆäº†è‘£äº‹ä¼šä¸»å¸­ï¼Œå°‘æ—å¯ºæ”¹åâ€œå°‘æ—é›†å›¢â€ã€‚ç»ˆæè…è´¥ï¼"}
                ]
            }
        ];

        /* ========== åˆå§‹åŒ– ========== */
        function initGame(){
            Object.assign(gameState,{
                position:"æ‰«åœ°åƒ§",
                merit:0,
                money:0,
                corruption:0,
                currentEventIndex:0,
                achievements:new Set()
            });
            updateUI();
            renderEvent();
        }

        /* ========== UI æ›´æ–° ========== */
        function updateUI(){
            document.getElementById('position').textContent = gameState.position;
            document.getElementById('merit').textContent = gameState.merit;
            document.getElementById('money').textContent = gameState.money.toLocaleString() + 'å…ƒ';
            document.getElementById('corruptionFill').style.width = gameState.corruption + '%';
        }

        /* ========== æ¸²æŸ“å½“å‰äº‹ä»¶ ========== */
        function renderEvent(){
            if(gameState.currentEventIndex >= events.length){
                renderEnding();
                return;
            }
            const ev = events[gameState.currentEventIndex];
            const html = `
                <div class="event-card">
                    <div class="event-title">${ev.title}</div>
                    <div class="event-description">${ev.description}</div>
                    <div class="choices">
                        ${ev.choices.map((c,i)=>`
                            <button class="choice-btn ${['positive','negative','neutral'][i]}" onclick="handleChoice(${i})">${c.text}</button>
                        `).join('')}
                    </div>
                    <div class="result" id="result"></div>
                </div>
            `;
            document.getElementById('gameArea').innerHTML = html;
        }

        /* ========== å¤„ç†é€‰æ‹© ========== */
        function handleChoice(idx){
            const {choices,effect,result} = events[gameState.currentEventIndex].choices[idx];
            // æ›´æ–°æ•°å€¼
            ['merit','money','corruption'].forEach(k=>{
                if(effect[k]) gameState[k] += effect[k];
            });
            gameState.corruption = Math.max(0,Math.min(100,gameState.corruption));
            // æ›´æ–°èŒä½
            updatePosition();
            // æ˜¾ç¤ºç»“æœ
            const res = document.getElementById('result');
            res.textContent = result;
            res.className = 'result ' + (effect.corruption>20?'sarcastic':effect.merit>0?'success':'failure');
            res.style.display='block';
            // ç¦ç”¨æŒ‰é’®
            document.querySelectorAll('.choice-btn').forEach(b=>b.disabled=true);
            // ä¸‹ä¸€äº‹ä»¶
            setTimeout(()=>{
                gameState.currentEventIndex++;
                updateUI();
                renderEvent();
            },1800);
            // æˆå°±
            checkAchievements();
        }

        /* ========== èŒä½å‡çº§é€»è¾‘ ========== */
        function updatePosition(){
            if(gameState.corruption>=100) gameState.position='è‘£äº‹ä¼šä¸»å¸­';
            else if(gameState.corruption>=80) gameState.position='CEO';
            else if(gameState.corruption>=60) gameState.position='æ–¹ä¸ˆ';
            else if(gameState.corruption>=40) gameState.position='é¦–åº§';
            else if(gameState.corruption>=20) gameState.position='ç›‘é™¢';
            else if(gameState.corruption>=10) gameState.position='çŸ¥å®¢åƒ§';
            else if(gameState.merit>=50) gameState.position='æ’é’Ÿåƒ§';
            else gameState.position='æ‰«åœ°åƒ§';
        }

        /* ========== æˆå°±ç³»ç»Ÿ ========== */
        function checkAchievements(){
            if(gameState.money>=1e6 && !gameState.achievements.has('M')){
                popAch('ğŸ’° çœŸÂ·ä½›ç³»å¯Œè±ª','æ­å–œï¼ä½ æˆåŠŸæŠŠä½›é—¨æ¸…å‡€åœ°å˜æˆäº†è´¢å¯Œå¯†ç ï¼');
                gameState.achievements.add('M');
            }
            if(gameState.corruption>=100 && !gameState.achievements.has('C')){
                popAch('ğŸ™ åŠŸå¾·æ— é‡CEO','å°‘æ—å¯ºä¸Šå¸‚æˆåŠŸï¼ä½›ç¥–çœ‹äº†éƒ½æ²‰é»˜...');
                gameState.achievements.add('C');
            }
            if(gameState.merit>=100 && !gameState.achievements.has('S')){
                popAch('âœ¨ æ‰«åœ°åƒ§ä¹‹é­‚','ä½ å®ˆä½äº†åˆå¿ƒï¼Œä½†é”™è¿‡äº†å‡ ä¸ªäº¿...');
                gameState.achievements.add('S');
            }
        }
        function popAch(title,txt){
            document.getElementById('achievementTitle').textContent = title;
            document.getElementById('achievementText').textContent = txt;
            document.getElementById('achievement').style.display='block';
        }
        function closeAchievement(){
            document.getElementById('achievement').style.display='none';
        }

        /* ========== ç»“å±€ ========== */
        function renderEnding(){
            let endMsg='';
            if(gameState.corruption>=80){
                endMsg=`æœ€ç»ˆèŒä½ï¼š${gameState.position}<br>æ€»èµ„äº§ï¼š${gameState.money.toLocaleString()}å…ƒ<br><br>ä½ æŠŠåƒå¹´å¤åˆ¹æˆåŠŸè½¬å‹ä¸ºå•†ä¸šå¸å›½ï¼Œçº³æ–¯è¾¾å…‹ä¸ºä½ æ•²é’Ÿï¼`;
            }else if(gameState.merit>=50){
                endMsg=`æœ€ç»ˆèŒä½ï¼š${gameState.position}<br>æ€»åŠŸå¾·ï¼š${gameState.merit}<br><br>ä½ å®ˆä½äº†å‡ºå®¶äººçš„æœ¬åˆ†ï¼Œæ–¹ä¸ˆå´è¯´ï¼šâ€œä¸‹æ¬¡è®°å¾—å¸¦é’±åŒ…å‡ºå®¶ã€‚â€`;
            }else{
                endMsg=`æœ€ç»ˆèŒä½ï¼š${gameState.position}<br>æ—¢æ²¡å¤§å¯Œå¤§è´µï¼Œä¹Ÿæ²¡å¤§å½»å¤§æ‚Ÿã€‚<br><br>æ–¹ä¸ˆæ‹æ‹ä½ ï¼šâ€œæ–½ä¸»ï¼ŒåŠå¼ å¹´å¡ï¼Ÿâ€`;
            }
            document.getElementById('gameArea').innerHTML = `
                <div class="event-card">
                    <div class="event-title">ğŸ¬ æ¸¸æˆç»“æŸ</div>
                    <div class="event-description">${endMsg}</div>
                </div>
            `;
            document.getElementById('restartBtn').style.display='block';
        }

        /* ========== é‡æ–°å¼€å§‹ ========== */
        function restartGame(){
            document.getElementById('restartBtn').style.display='none';
            initGame();
        }

        /* ========== å¯åŠ¨ ========== */
        initGame();
    </script>
</body>
</html>